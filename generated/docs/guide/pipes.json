{
  "id": "guide/pipes",
  "title": "Transforming Data Using Pipes",
  "contents": "\n\n\n\n\n<div class=\"content\">\n  <h1 id=\"transforming-data-using-pipes\">Transforming Data Using Pipes<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#transforming-data-using-pipes\"><i class=\"material-icons\">link</i></a></h1>\n<p>Use <a href=\"guide/glossary#pipe\" title=\"Definition of a pipe\">pipes</a> to transform strings, currency amounts, dates, and other data for display.\nPipes are simple functions to use in <a href=\"guide/glossary#template-expression\" title=\"Definition of template expression\">template expressions</a> to accept an input value and return a transformed value.\nPipes are useful because you can use them throughout your application, while only declaring each pipe once.\nFor example, you would use a pipe to show a date as <strong>April 15, 1988</strong> rather than the raw string format.</p>\n<div class=\"alert is-helpful\">\n<p>For the sample application used in this topic, see the <live-example></live-example>.</p>\n</div>\n<p>Angular provides built-in pipes for typical data transformations, including transformations for internationalization (i18n), which use locale information to format data.\nThe following are commonly used built-in pipes for data formatting:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Pipes</th>\n<th align=\"left\">Details</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a href=\"api/common/DatePipe\"><code>DatePipe</code></a></td>\n<td align=\"left\">Formats a date value according to locale rules.</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/common/UpperCasePipe\"><code>UpperCasePipe</code></a></td>\n<td align=\"left\">Transforms text to all upper case.</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/common/LowerCasePipe\"><code>LowerCasePipe</code></a></td>\n<td align=\"left\">Transforms text to all lower case.</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/common/CurrencyPipe\"><code>CurrencyPipe</code></a></td>\n<td align=\"left\">Transforms a number to a currency string, formatted according to locale rules.</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/common/DecimalPipe\"><code>DecimalPipe</code></a></td>\n<td align=\"left\">Transforms a number into a string with a decimal point, formatted according to locale rules.</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/common/PercentPipe\"><code>PercentPipe</code></a></td>\n<td align=\"left\">Transforms a number to a percentage string, formatted according to locale rules.</td>\n</tr>\n</tbody>\n</table>\n<div class=\"alert is-helpful\">\n<ul>\n<li>For a complete list of built-in pipes, see the <a href=\"api/common#pipes\" title=\"Pipes API reference summary\">pipes API documentation</a>.</li>\n<li>To learn more about using pipes for internationalization (i18n) efforts, see <a href=\"guide/i18n-common-format-data-locale\" title=\"Format data based on locale | Angular\">formatting data based on locale</a>.</li>\n</ul>\n</div>\n<p>Create pipes to encapsulate custom transformations and use your custom pipes in template expressions.</p>\n<h2 id=\"prerequisites\">Prerequisites<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n<p>To use pipes you should have a basic understanding of the following:</p>\n<ul>\n<li><a href=\"guide/glossary#typescript\" title=\"Definition of Typescript\">Typescript</a> and HTML5 programming</li>\n<li><a href=\"guide/glossary#template\" title=\"Definition of a template\">Templates</a> in HTML with CSS styles</li>\n<li><a href=\"guide/glossary#component\" title=\"Definition of a component\">Components</a></li>\n</ul>\n<h2 id=\"using-a-pipe-in-a-template\">Using a pipe in a template<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#using-a-pipe-in-a-template\"><i class=\"material-icons\">link</i></a></h2>\n<p>To apply a pipe, use the pipe operator (<code>|</code>) within a template expression as shown in the following code example.</p>\n<code-example header=\"birthday.component.html (template)\" path=\"pipes/src/app/birthday.component.html\">\n&#x3C;p>The hero's birthday is {{ birthday | <a href=\"api/common/DatePipe\" class=\"code-anchor\">date</a> }}&#x3C;/p>\n\n\n</code-example>\n<p>The component's <code>birthday</code> value flows through the pipe operator (<code>|</code>) to the <a href=\"api/common/DatePipe\"><code>DatePipe</code></a> whose pipe name is <code><a href=\"api/common/DatePipe\" class=\"code-anchor\">date</a></code>.\nThe pipe renders the date in the default format as <strong>Apr 15, 1988</strong>.</p>\n<p>Look at the component class.</p>\n<code-example header=\"birthday.component.ts (class)\" path=\"pipes/src/app/birthday.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a> } from '@angular/common';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app-birthday',\n  templateUrl: './birthday.component.html',\n  imports: [<a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a>],\n})\nexport class BirthdayComponent {\n  birthday = new Date(1988, 3, 15); // April 15, 1988 -- since month parameter is zero-based\n}\n\n\n</code-example>\n<p>Because this is a <a href=\"guide/standalone-components\">standalone component</a>, it imports the <code><a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a></code> from <code>@angular/common</code>, the source of all built-in pipes.</p>\n<p><a id=\"parameterizing-a-pipe\"></a></p>\n<h2 id=\"transforming-data-with-parameters-and-chained-pipes\">Transforming data with parameters and chained pipes<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#transforming-data-with-parameters-and-chained-pipes\"><i class=\"material-icons\">link</i></a></h2>\n<p>Some pipes have <em>optional</em> parameters to fine-tune the pipe's output.</p>\n<p>For example, the <a href=\"api/common/CurrencyPipe\" title=\"API reference\"><code>CurrencyPipe</code></a> accepts a country code as a parameter.\nTo specify the parameter, follow the pipe name (<code><a href=\"api/common/CurrencyPipe\" class=\"code-anchor\">currency</a></code>) with a colon (<code>:</code>) and the parameter value (a country code).</p>\n<p>The template expression <code>{{ amount | <a href=\"api/common/CurrencyPipe\" class=\"code-anchor\">currency</a>:'EUR' }}</code> displays the amount, prefixed with the Euros symbol (€).</p>\n<p>Some pipes accept multiple <em>optional</em> parameters. Pass each parameter to the pipe, separated by colons.</p>\n<p>For example, <code>{{ amount | <a href=\"api/common/CurrencyPipe\" class=\"code-anchor\">currency</a>:'EUR':'Euros '}}</code> displays the amount with the label \"Euros\" (the second parameter) instead of the Euros symbol.</p>\n<p>Some pipes, such as <a href=\"/api/common/SlicePipe\" title=\"API reference for SlicePipe\"><code>SlicePipe</code></a>, <em>require</em> at least one parameter and may allow more <em>optional</em> parameters. </p>\n<p>The expression <code>{{ anArray | <a href=\"api/common/SlicePipe\" class=\"code-anchor\">slice</a>:1:5 }}</code> displays a new string containing a subset of the elements starting with element <code>1</code> and ending with element <code>5</code>.</p>\n<h2 id=\"example-formatting-a-date\">Example: Formatting a date<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#example-formatting-a-date\"><i class=\"material-icons\">link</i></a></h2>\n<p>The following example demonstrates two ways to format a hero's birthdate with the <a href=\"api/common/DatePipe\" title=\"API reference\"><code>DatePipe</code></a>.</p>\n<code-tabs>\n    <code-pane header=\"birthday-formatting.component.html (template)\" path=\"pipes/src/app/birthday-formatting.component.html\">\n&#x3C;p>The hero's birthday is {{ birthday | <a href=\"api/common/DatePipe\" class=\"code-anchor\">date</a>:\"shortDate\" }} in the \"shortDate\" format.&#x3C;/p>\n\n&#x3C;p>The hero's birthday is {{ birthday | <a href=\"api/common/DatePipe\" class=\"code-anchor\">date</a>:format }} in \"{{format}}\" format.\n  Click the toggle button to change formats.&#x3C;/p>\n\n&#x3C;button type=\"button\" (click)=\"toggleFormat()\">Toggle Format&#x3C;/button>\n\n\n</code-pane>\n    <code-pane header=\"birthday-formatting.component.ts (class)\" path=\"pipes/src/app/birthday-formatting.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a> } from '@angular/common';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app-birthday-formatting',\n  templateUrl: './birthday-formatting.component.html',\n  imports: [<a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a>],\n})\nexport class BirthdayFormattingComponent {\n  birthday = new Date(1988, 3, 15); // April 15, 1988 -- since month parameter is zero-based\n  toggle = true;\n\n  get format()   { return this.toggle ? 'mediumDate' : 'fullDate'; }\n\n  toggleFormat() { this.toggle = !this.toggle; }\n}\n\n\n</code-pane>\n</code-tabs>\n<p>In the template, the first expression passes the birthdate to the <code><a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a></code> <em>with a literal</em> date format parameter, \"shortDate\". The output is <strong>04/15/88</strong>.</p>\n<p>The second expression passes the birthdate to the <code><a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a></code> with a date format parameter <em>bound to a component property</em> (<code>format</code>). </p>\n<p>Clicking the \"Toggle\" button switches that property value between two of the <a href=\"api/common/DatePipe#pre-defined-format-options\">many possible pre-defined formats</a>, <code>'mediumDate'</code> and <code>'fullDate'</code>. The output is either <strong>April 15, 1988</strong> or <strong>Friday, April 15, 1988</strong>.</p>\n<p>The page displays the birthdate in the specified format.</p>\n<h2 id=\"example-chaining-two-pipes-together\">Example: Chaining two pipes together<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#example-chaining-two-pipes-together\"><i class=\"material-icons\">link</i></a></h2>\n<p>Connect multiple pipes, using \"pipe chaining syntax\", so that the output of one pipe becomes the input to the next.</p>\n<p>The following example passes the birthdate to the <code><a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a></code> and then forwards the result to the <a href=\"api/common/UpperCasePipe\" title=\"API reference\"><code>UpperCasePipe</code></a> pipe, using \"pipe chaining syntax\".</p>\n<p>Once again, it demonstrates the <code><a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a></code> both <em>with</em> and <em>without</em> a format parameter. Note that both results (<strong>APR 15, 1988</strong> and <strong>FRIDAY, APRIL 15, 1988</strong>) are in uppercase.</p>\n<code-tabs>\n    <code-pane header=\"birthday-pipe-chaining.component.html (template)\" path=\"pipes/src/app/birthday-pipe-chaining.component.html\">\n&#x3C;p>\n  The chained hero's uppercase birthday is\n  {{ birthday | <a href=\"api/common/DatePipe\" class=\"code-anchor\">date</a> | <a href=\"api/common/UpperCasePipe\" class=\"code-anchor\">uppercase</a>}}\n&#x3C;/p>\n\n&#x3C;p>\n  The chained hero's uppercase birthday in \"fullDate\" format is\n  {{ birthday | <a href=\"api/common/DatePipe\" class=\"code-anchor\">date</a>:'fullDate' | uppercase}}\n&#x3C;/p>\n\n\n</code-pane>\n    <code-pane header=\"birthday-pipe-chaining.component.ts (class)\" path=\"pipes/src/app/birthday-pipe-chaining.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a>, <a href=\"api/common/UpperCasePipe\" class=\"code-anchor\">UpperCasePipe</a>} from '@angular/common';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app-birthday-pipe-chaining',\n  templateUrl: './birthday-pipe-chaining.component.html',\n  imports: [<a href=\"api/common/DatePipe\" class=\"code-anchor\">DatePipe</a>, <a href=\"api/common/UpperCasePipe\" class=\"code-anchor\">UpperCasePipe</a>],\n})\nexport class BirthdayPipeChainingComponent {\n  birthday = new Date(1988, 3, 15); // April 15, 1988 -- since month parameter is zero-based\n}\n\n\n</code-pane>\n</code-tabs>\n<p>Switch to the class file to see that this is a <a href=\"guide/standalone-components\">standalone component</a>; it imports the two pipes from <code>@angular/common</code>, the source of all built-in pipes.</p>\n<p><a id=\"Custom-pipes\"></a></p>\n<h2 id=\"creating-pipes-for-custom-data-transformations\">Creating pipes for custom data transformations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#creating-pipes-for-custom-data-transformations\"><i class=\"material-icons\">link</i></a></h2>\n<p>Create custom pipes to encapsulate transformations that are not provided with the built-in pipes.\nThen, use your custom pipe in template expressions, the same way you use built-in pipes —to transform input values to output values for display.</p>\n<h3 id=\"marking-a-class-as-a-pipe\">Marking a class as a pipe<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#marking-a-class-as-a-pipe\"><i class=\"material-icons\">link</i></a></h3>\n<p>To mark a class as a pipe and supply configuration metadata, apply the <a href=\"api/core/Pipe\" title=\"API reference for Pipe\"><code>@Pipe</code></a> <a href=\"guide/glossary#decorator--decoration\" title=\"Definition for decorator\">decorator</a> to the class.\nUse <a href=\"guide/glossary#case-types\" title=\"Definition of case types\">UpperCamelCase</a> (the general convention for class names) for the pipe class name, and <a href=\"guide/glossary#case-types\" title=\"Definition of case types\">camelCase</a> for the corresponding <code>name</code> string.\nDo not use hyphens in the <code>name</code>.\nFor details and more examples, see <a href=\"guide/styleguide#pipe-names\" title=\"Pipe names in the Angular coding style guide\">Pipe names</a>.</p>\n<p>Use <code>name</code> in template expressions as you would for a built-in pipe.</p>\n<div class=\"alert is-important\">\n<ul>\n<li>\n<p>Include your pipe in the <code>declarations</code> field of the <code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> metadata in order for it to be available to a template.\nSee the <code>app.module.ts</code> file in the example application (<live-example></live-example>).\nFor details, see <a href=\"guide/ngmodules\" title=\"NgModules introduction\">NgModules</a>.</p>\n</li>\n<li>\n<p>Register your custom pipes.\nThe <a href=\"cli\" title=\"CLI Overview and Command Reference\">Angular CLI</a> <a href=\"cli/generate#pipe\" title=\"ng generate pipe in the CLI Command Reference\"><code>ng generate pipe</code></a> command registers the pipe automatically.</p>\n</li>\n</ul>\n</div>\n<h3 id=\"using-the-pipetransform-interface\">Using the PipeTransform interface<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#using-the-pipetransform-interface\"><i class=\"material-icons\">link</i></a></h3>\n<p>Implement the <a href=\"api/core/PipeTransform\" title=\"API reference for PipeTransform\"><code>PipeTransform</code></a> interface in your custom pipe class to perform the transformation.</p>\n<p>Angular invokes the <code>transform</code> method with the value of a binding as the first argument, and any parameters as the second argument in list form, and returns the transformed value.</p>\n<h3 id=\"example-transforming-a-value-exponentially\">Example: Transforming a value exponentially<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#example-transforming-a-value-exponentially\"><i class=\"material-icons\">link</i></a></h3>\n<p>In a game, you might want to implement a transformation that raises a value exponentially to increase a hero's power.\nFor example, if the hero's score is 2, boosting the hero's power exponentially by 10 produces a score of 1024.\nUse a custom pipe for this transformation.</p>\n<p>The following code example shows two component definitions:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Files</th>\n<th align=\"left\">Details</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>exponential-strength.pipe.ts</code></td>\n<td align=\"left\">Defines a custom pipe named <code>exponentialStrength</code> with the <code>transform</code> method that performs the transformation. It defines an argument to the <code>transform</code> method (<code>exponent</code>) for a parameter passed to the pipe.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>power-booster.component.ts</code></td>\n<td align=\"left\">Demonstrates how to use the pipe, specifying a value (<code>2</code>) and the exponent parameter (<code>10</code>).</td>\n</tr>\n</tbody>\n</table>\n<code-tabs>\n    <code-pane header=\"src/app/exponential-strength.pipe.ts\" path=\"pipes/src/app/exponential-strength.pipe.ts\">\nimport { <a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>, <a href=\"api/core/PipeTransform\" class=\"code-anchor\">PipeTransform</a> } from '@angular/core';\n/*\n * Raise the value exponentially\n * Takes an exponent argument that defaults to 1.\n * Usage:\n *   value | exponentialStrength:exponent\n * Example:\n *   {{ 2 | exponentialStrength:10 }}\n *   formats to: 1024\n*/\n@<a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>({\n  standalone: true,\n  name: 'exponentialStrength'\n})\nexport class ExponentialStrengthPipe implements <a href=\"api/core/PipeTransform\" class=\"code-anchor\">PipeTransform</a> {\n  transform(value: number, exponent = 1): number {\n    return Math.pow(value, exponent);\n  }\n}\n\n\n</code-pane>\n    <code-pane header=\"src/app/power-booster.component.ts\" path=\"pipes/src/app/power-booster.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { ExponentialStrengthPipe } from './exponential-strength.pipe';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app-power-booster',\n  template: `\n    &#x3C;h2>Power Booster&#x3C;/h2>\n    &#x3C;p>Super power boost: {{2 | exponentialStrength: 10}}&#x3C;/p>\n  `,\n  imports: [ExponentialStrengthPipe]\n})\nexport class PowerBoosterComponent { }\n\n\n</code-pane>\n</code-tabs>\n<!--todo: replace with screen capture -->\n<p>The browser displays the following:</p>\n<code-example format=\"output\" hidecopy=\"\" language=\"none\">\n\nPower Booster\n\nSuperpower boost: 1024\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p>To examine the behavior the <code>exponentialStrength</code> pipe in the <live-example></live-example>, change the value and optional exponent in the template.</p>\n</div>\n<p><a id=\"change-detection\"></a></p>\n<h2 id=\"detecting-changes-with-data-binding-in-pipes\">Detecting changes with data binding in pipes<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#detecting-changes-with-data-binding-in-pipes\"><i class=\"material-icons\">link</i></a></h2>\n<p>You use <a href=\"guide/glossary#data-binding\" title=\"Definition of data binding\">data binding</a> with a  pipe to display values and respond to user actions.\nIf the data is a primitive input value, such as <code>String</code> or <code>Number</code>, or an object reference as input, such as <code>Date</code> or <code>Array</code>, Angular executes the pipe whenever it detects a change for the input value or reference.</p>\n<p>For example, you could change the previous custom pipe example to use two-way data binding with <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> to input the amount and boost factor, as shown in the following code example.</p>\n<code-example header=\"src/app/power-boost-calculator.component.ts\" path=\"pipes/src/app/power-boost-calculator.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a> } from '@angular/forms';\n\nimport { ExponentialStrengthPipe } from './exponential-strength.pipe';\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app-power-boost-calculator',\n  template: `\n    &#x3C;h2>Power Boost Calculator&#x3C;/h2>\n    &#x3C;label for=\"power-input\">Normal power: &#x3C;/label>\n    &#x3C;input id=\"power-input\" type=\"text\" [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"power\">\n    &#x3C;label for=\"boost-input\">Boost factor: &#x3C;/label>\n    &#x3C;input id=\"boost-input\" type=\"text\" [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"factor\">\n    &#x3C;p>\n      Super Hero Power: {{power | exponentialStrength: factor}}\n    &#x3C;/p>\n  `,\n  imports: [ExponentialStrengthPipe, <a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a>],\n  styles: ['input {margin: .5rem 0;}']\n})\nexport class PowerBoostCalculatorComponent {\n  power = 5;\n  factor = 1;\n}\n\n\n</code-example>\n<p>The <code>exponentialStrength</code> pipe executes every time the user changes the \"normal power\" value or the \"boost factor\".</p>\n<p>Angular detects each change and immediately runs the pipe.\nThis is fine for primitive input values.\nHowever, if you change something <em>inside</em> a composite object (such as the month of a date, an element of an array, or an object property), you need to understand how change detection works, and how to use an <code>impure</code> pipe.</p>\n<h3 id=\"how-change-detection-works\">How change detection works<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#how-change-detection-works\"><i class=\"material-icons\">link</i></a></h3>\n<p>Angular looks for changes to data-bound values in a <a href=\"guide/glossary#change-detection\" title=\"Definition of change detection\">change detection</a> process that runs after every DOM event: every keystroke, mouse move, timer tick, and server response.\nThe following example, which doesn't use a pipe, demonstrates how Angular uses its default change detection strategy to monitor and update its display of every hero in the <code>heroes</code> array.\nThe example tabs show the following:</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Files</th>\n<th align=\"left\">Details</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>flying-heroes.component.html (v1)</code></td>\n<td align=\"left\">The <code>*<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> repeater displays the hero names.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>flying-heroes.component.ts (v1)</code></td>\n<td align=\"left\">Provides heroes, adds heroes into the array, and resets the array.</td>\n</tr>\n</tbody>\n</table>\n<code-tabs>\n    <code-pane header=\"src/app/flying-heroes.component.html (v1)\" path=\"pipes/src/app/flying-heroes.component.html\" region=\"template-1\">\n&#x3C;label for=\"hero-name\">New hero name: &#x3C;/label>\n&#x3C;input type=\"text\" #box id=\"hero-name\" (keyup.enter)=\"addHero(box.value); box.value=''\" placeholder=\"hero name\">\n  &#x3C;button type=\"button\" (click)=\"reset()\">Reset list of heroes&#x3C;/button>\n  &#x3C;!&#x3C;!-- Only used in deprecated `pipes.md` -->\n  &#x3C;div *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of heroes\">\n    {{hero.name}}\n  &#x3C;/div>\n\n</code-pane>\n    <code-pane header=\"src/app/flying-heroes.component.ts (v1)\" path=\"pipes/src/app/flying-heroes.component.ts\" region=\"v1\">\nexport class FlyingHeroesComponent {\n  heroes: any[] = [];\n  canFly = true;\n  constructor() { this.reset(); }\n\n  addHero(name: string) {\n    name = name.trim();\n    if (!name) { return; }\n    const hero = { name, canFly: this.canFly };\n      this.heroes.push(hero);\n  }\n\n  reset() { this.heroes = HEROES.slice(); }\n}\n\n</code-pane>\n</code-tabs>\n<p>Angular updates the display every time the user adds a hero.\nIf the user clicks the <strong>Reset</strong> button, Angular replaces <code>heroes</code> with a new array of the original heroes and updates the display.\nIf you add the ability to remove or change a hero, Angular would detect those changes and update the display as well.</p>\n<p>However, executing a pipe to update the display with every change would slow down your application's performance.\nSo Angular uses a faster change-detection algorithm for executing a pipe, as described in the next section.</p>\n<p><a id=\"pure-and-impure-pipes\"></a></p>\n<h3 id=\"detecting-pure-changes-to-primitives-and-object-references\">Detecting pure changes to primitives and object references<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#detecting-pure-changes-to-primitives-and-object-references\"><i class=\"material-icons\">link</i></a></h3>\n<p>By default, pipes are defined as <em>pure</em> so that Angular executes the pipe only when it detects a <em>pure change</em> to the input value.\nA pure change is either a change to a primitive input value (such as <code>String</code>, <code>Number</code>, <code>Boolean</code>, or <code>Symbol</code>), or a changed object reference (such as <code>Date</code>, <code>Array</code>, <code>Function</code>, or <code>Object</code>).</p>\n<p><a id=\"pure-pipe-pure-fn\"></a></p>\n<p>A pure pipe must use a pure function, which is one that processes inputs and returns values without side effects.\nIn other words, given the same input, a pure function should always return the same output.</p>\n<p>With a pure pipe, Angular ignores changes within composite objects, such as a newly added element of an existing array, because checking a primitive value or object reference is much faster than performing a deep check for differences within objects.\nAngular can quickly determine if it can skip executing the pipe and updating the view.</p>\n<p>However, a pure pipe with an array as input might not work the way you want.\nTo demonstrate this issue, change the previous example to filter the list of heroes to just those heroes who can fly.\nUse the <code>FlyingHeroesPipe</code> in the <code>*<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> repeater as shown in the following code.\nThe tabs for the example show the following:</p>\n<ul>\n<li>The template (<code>flying-heroes.component.html (flyers)</code>) with the new pipe</li>\n<li>The <code>FlyingHeroesPipe</code> custom pipe implementation (<code>flying-heroes.pipe.ts</code>)</li>\n</ul>\n<code-tabs>\n    <code-pane header=\"src/app/flying-heroes.component.html (flyers)\" path=\"pipes/src/app/flying-heroes.component.html\" region=\"template-flying-heroes\">\n&#x3C;div *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of (heroes | flyingHeroes)\">\n  {{hero.name}}\n&#x3C;/div>\n\n</code-pane>\n    <code-pane header=\"src/app/flying-heroes.pipe.ts\" path=\"pipes/src/app/flying-heroes.pipe.ts\" region=\"pure\">\nimport { <a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>, <a href=\"api/core/PipeTransform\" class=\"code-anchor\">PipeTransform</a> } from '@angular/core';\n\nimport { Hero } from './heroes';\n\n@<a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>({\n  standalone: true,\n  name: 'flyingHeroes'\n})\nexport class FlyingHeroesPipe implements <a href=\"api/core/PipeTransform\" class=\"code-anchor\">PipeTransform</a> {\n  transform(allHeroes: Hero[]) {\n    return allHeroes.filter(hero => hero.canFly);\n  }\n}\n\n</code-pane>\n</code-tabs>\n<p>The application now shows unexpected behavior: When the user adds flying heroes, none of them appear under \"Heroes who fly.\"\nThis happens because the code that adds a hero does so by pushing it onto the <code>heroes</code> array:</p>\n<code-example header=\"src/app/flying-heroes.component.ts\" path=\"pipes/src/app/flying-heroes.component.ts\" region=\"push\">\nthis.heroes.push(hero);\n\n</code-example>\n<p>The change detector ignores changes to elements of an array, so the pipe doesn't run.</p>\n<p>The reason Angular ignores the changed array element is that the <em>reference</em> to the array hasn't changed.\nBecause the array is the same, Angular does not update the display.</p>\n<p>One way to get the behavior you want is to change the object reference itself.\nReplace the array with a new array containing the newly changed elements, and then input the new array to the pipe.\nIn the preceding example, create an array with the new hero appended, and assign that to <code>heroes</code>.\nAngular detects the change in the array reference and executes the pipe.</p>\n<p>To summarize, if you mutate the input array, the pure pipe doesn't execute.\nIf you <em>replace</em> the input array, the pipe executes and the display is updated.</p>\n<p>The preceding example demonstrates changing a component's code to accommodate a pipe.</p>\n<p>To keep your component independent of HTML templates that use pipes, you can, as an alternative, use an <em>impure</em> pipe to detect changes within composite objects such as arrays, as described in the next section.</p>\n<p><a id=\"impure-flying-heroes\"></a></p>\n<h3 id=\"detecting-impure-changes-within-composite-objects\">Detecting impure changes within composite objects<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#detecting-impure-changes-within-composite-objects\"><i class=\"material-icons\">link</i></a></h3>\n<p>To execute a custom pipe after a change <em>within</em> a composite object, such as a change to an element of an array, you need to define your pipe as <code>impure</code> to detect impure changes.\nAngular executes an impure pipe every time it detects a change with every keystroke or mouse movement.</p>\n<div class=\"alert is-important\">\n<p>While an impure pipe can be useful, be careful using one.\nA long-running impure pipe could dramatically slow down your application.</p>\n</div>\n<p>Make a pipe impure by setting its <code>pure</code> flag to <code>false</code>:</p>\n<code-example header=\"src/app/flying-heroes.pipe.ts\" path=\"pipes/src/app/flying-heroes.pipe.ts\" region=\"pipe-decorator\">\n@<a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>({\n  standalone: true,\n  name: 'flyingHeroesImpure',\n  pure: false\n})\n\n</code-example>\n<p>The following code shows the complete implementation of <code>FlyingHeroesImpurePipe</code>, which extends <code>FlyingHeroesPipe</code> to inherit its characteristics.\nThe example shows that you don't have to change anything else—the only difference is setting the <code>pure</code> flag as <code>false</code> in the pipe metadata.</p>\n<code-tabs>\n    <code-pane header=\"src/app/flying-heroes.pipe.ts (FlyingHeroesImpurePipe)\" path=\"pipes/src/app/flying-heroes.pipe.ts\" region=\"impure\">\n@<a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>({\n  standalone: true,\n  name: 'flyingHeroesImpure',\n  pure: false\n})\nexport class FlyingHeroesImpurePipe extends FlyingHeroesPipe { }\n\n</code-pane>\n    <code-pane header=\"src/app/flying-heroes.pipe.ts (FlyingHeroesPipe)\" path=\"pipes/src/app/flying-heroes.pipe.ts\" region=\"pure\">\nimport { <a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>, <a href=\"api/core/PipeTransform\" class=\"code-anchor\">PipeTransform</a> } from '@angular/core';\n\nimport { Hero } from './heroes';\n\n@<a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>({\n  standalone: true,\n  name: 'flyingHeroes'\n})\nexport class FlyingHeroesPipe implements <a href=\"api/core/PipeTransform\" class=\"code-anchor\">PipeTransform</a> {\n  transform(allHeroes: Hero[]) {\n    return allHeroes.filter(hero => hero.canFly);\n  }\n}\n\n</code-pane>\n</code-tabs>\n<p><code>FlyingHeroesImpurePipe</code> is a good candidate for an impure pipe because the <code>transform</code> function is trivial and fast:</p>\n<code-example header=\"src/app/flying-heroes.pipe.ts (filter)\" path=\"pipes/src/app/flying-heroes.pipe.ts\" region=\"filter\">\nreturn allHeroes.filter(hero => hero.canFly);\n\n</code-example>\n<p>You can derive a <code>FlyingHeroesImpureComponent</code> from <code>FlyingHeroesComponent</code>.\nAs shown in the following code, only the pipe in the template changes.</p>\n<code-example header=\"src/app/flying-heroes-impure.component.html (excerpt)\" path=\"pipes/src/app/flying-heroes-impure.component.html\" region=\"template-flying-heroes\">\n&#x3C;div *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of (heroes | flyingHeroesImpure)\">\n  {{hero.name}}\n&#x3C;/div>\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p>To confirm that the display updates as the user adds heroes, see the <live-example></live-example>.</p>\n</div>\n<p><a id=\"async-pipe\"></a></p>\n<h2 id=\"unwrapping-data-from-an-observable\">Unwrapping data from an observable<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#unwrapping-data-from-an-observable\"><i class=\"material-icons\">link</i></a></h2>\n<p><a href=\"guide/glossary#observable\" title=\"Definition of observable\">Observables</a> let you pass messages between parts of your application.\nObservables are recommended for event handling, asynchronous programming, and handling multiple values.\nObservables can deliver single or multiple values of any type, either synchronously (as a function delivers a value to its caller) or asynchronously on a schedule.</p>\n<div class=\"alert is-helpful\">\n<p>For details and examples of observables, see the <a href=\"guide/observables#using-observables-to-pass-values\" title=\"Using observables to pass values\">Observables Overview</a>.</p>\n</div>\n<p>Use the built-in <a href=\"api/common/AsyncPipe\" title=\"API description of AsyncPipe\"><code>AsyncPipe</code></a> to accept an observable as input and subscribe to the input automatically.\nWithout this pipe, your component code would have to subscribe to the observable to consume its values, extract the resolved values, expose them for binding, and unsubscribe when the observable is destroyed in order to prevent memory leaks.\n<code><a href=\"api/common/AsyncPipe\" class=\"code-anchor\">AsyncPipe</a></code> is an impure pipe that saves boilerplate code in your component to maintain the subscription and keep delivering values from that observable as they arrive.</p>\n<p>The following code example binds an observable of message strings\n(<code>message$</code>) to a view with the <code>async</code> pipe.</p>\n<code-example header=\"src/app/hero-async-message.component.ts\" path=\"pipes/src/app/hero-async-message.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/common/AsyncPipe\" class=\"code-anchor\">AsyncPipe</a> } from '@angular/common';\n\nimport { Observable, interval } from 'rxjs';\nimport { map, startWith, take } from 'rxjs/operators';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app-hero-async-message',\n  template: `\n    &#x3C;h2>Async Messages and <a href=\"api/common/AsyncPipe\" class=\"code-anchor\">AsyncPipe</a>&#x3C;/h2>\n    &#x3C;p>{{ message$ | <a href=\"api/platform-browser/animations/async\" class=\"code-anchor\">async</a> }}&#x3C;/p>\n    &#x3C;button type=\"button\" (click)=\"resend()\">Resend Messages&#x3C;/button>`,\n  imports: [<a href=\"api/common/AsyncPipe\" class=\"code-anchor\">AsyncPipe</a>],\n})\nexport class HeroAsyncMessageComponent {\n  message$: Observable&#x3C;string>;\n\n  private messages = [\n    'You are my hero!',\n    'You are the best hero!',\n    'Will you be my hero?'\n  ];\n\n  constructor() {\n    this.message$ = this.getResendObservable();\n  }\n\n  resend() {\n    this.message$ = this.getResendObservable();\n  }\n\n  private getResendObservable() {\n    return interval(1000).pipe(\n      map(i => `Message #${i + 1}: ${this.messages[i]}`),\n      take(this.messages.length),\n      startWith('Waiting for messages...')\n    );\n  }\n}\n\n\n</code-example>\n<p><a id=\"no-filter-pipe\"></a></p>\n<h2 id=\"caching-http-requests\">Caching HTTP requests<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#caching-http-requests\"><i class=\"material-icons\">link</i></a></h2>\n<p>To <a href=\"guide/understanding-communicating-with-http\" title=\"Communicating with backend services using HTTP\">communicate with backend services using HTTP</a>, the <code><a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a></code> service uses observables and offers the <code><a href=\"api/common/http/HttpClient#get\" class=\"code-anchor\">HttpClient.get()</a></code> method to fetch data from a server.\nThe asynchronous method sends an HTTP request, and returns an observable that emits the requested data for the response.</p>\n<p>As shown in the previous section, use the impure <code><a href=\"api/common/AsyncPipe\" class=\"code-anchor\">AsyncPipe</a></code> to accept an observable as input and subscribe to the input automatically.\nYou can also create an impure pipe to make and cache an HTTP request.</p>\n<p>Impure pipes are called whenever change detection runs for a component, which could be as often as every few milliseconds.\nTo avoid performance problems, call the server only when the requested URL changes, as shown in the following example, and use the pipe to cache the server response.\nThe tabs show the following:</p>\n<ul>\n<li>The <code>fetch</code> pipe (<code>fetch-json.pipe.ts</code>).</li>\n<li>A harness component (<code>hero-list.component.ts</code>) for demonstrating the request, using a template that defines two bindings to the pipe requesting the heroes from the <code>heroes.json</code> file.\nThe second binding chains the <code>fetch</code> pipe with the built-in <code><a href=\"api/common/JsonPipe\" class=\"code-anchor\">JsonPipe</a></code> to display the same hero data in JSON format.</li>\n</ul>\n<code-tabs>\n    <code-pane header=\"src/app/fetch-json.pipe.ts\" path=\"pipes/src/app/fetch-json.pipe.ts\">\nimport { <a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a> } from '@angular/common/<a href=\"api/common/http\" class=\"code-anchor\">http</a>';\nimport { <a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>, <a href=\"api/core/PipeTransform\" class=\"code-anchor\">PipeTransform</a> } from '@angular/core';\n\n@<a href=\"api/core/Pipe\" class=\"code-anchor\">Pipe</a>({\n  standalone: true,\n  name: 'fetch',\n  pure: false,\n})\nexport class FetchJsonPipe implements <a href=\"api/core/PipeTransform\" class=\"code-anchor\">PipeTransform</a> {\n  private cachedData: any = null;\n  private cachedUrl = '';\n\n  constructor(private <a href=\"api/common/http\" class=\"code-anchor\">http</a>: <a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a>) { }\n\n  transform(url: string): any {\n    if (url !== this.cachedUrl) {\n      this.cachedData = null;\n      this.cachedUrl = url;\n      this.http.get(url).subscribe(result => this.cachedData = result);\n    }\n\n    return this.cachedData;\n  }\n}\n\n\n</code-pane>\n    <code-pane header=\"src/app/hero-list.component.ts\" path=\"pipes/src/app/hero-list.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\nimport { <a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a>, <a href=\"api/common/JsonPipe\" class=\"code-anchor\">JsonPipe</a> } from '@angular/common';\n\nimport { FetchJsonPipe } from './fetch-json.pipe';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app-hero-list',\n  template: `\n    &#x3C;h2>Heroes from JSON File&#x3C;/h2>\n\n    &#x3C;div *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of ('assets/heroes.json' | fetch) \">\n      {{hero.name}}\n    &#x3C;/div>\n\n    &#x3C;p>Heroes as JSON:\n      {{'assets/heroes.json' | fetch | json}}\n    &#x3C;/p>`,\n  imports: [<a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a>, FetchJsonPipe, <a href=\"api/common/JsonPipe\" class=\"code-anchor\">JsonPipe</a>]\n})\nexport class HeroListComponent { }\n\n\n</code-pane>\n</code-tabs>\n<p>In the preceding example, a breakpoint on the pipe's request for data shows the following:</p>\n<ul>\n<li>Each binding gets its own pipe instance.</li>\n<li>Each pipe instance caches its own URL and data and calls the server only once.</li>\n</ul>\n<p>The <code>fetch</code> and <code>fetch-json</code> pipes display the heroes in the browser as follows:</p>\n<code-example format=\"output\" hidecopy=\"\" language=\"none\">\n\nHeroes from JSON File\n\nWindstorm\nBombasto\nMagneto\nTornado\n\nHeroes as JSON: [ { \"name\": \"Windstorm\", \"canFly\": true }, { \"name\": \"Bombasto\", \"canFly\": false }, { \"name\": \"Magneto\", \"canFly\": false }, { \"name\": \"Tornado\", \"canFly\": true } ]\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p>The built-in <a href=\"api/common/JsonPipe\" title=\"API description for JsonPipe\">JsonPipe</a> provides a way to diagnose a mysteriously failing data binding or to inspect an object for future binding.</p>\n</div>\n<h2 id=\"pipes-and-precedence\">Pipes and precedence<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/pipes#pipes-and-precedence\"><i class=\"material-icons\">link</i></a></h2>\n<p>Sometimes you want to choose between two values, based on some condition, before passing the choice to the pipe. You could use the JavaScript ternary operator (<code>?:</code>) in the template to make that choice.</p>\n<p>Beware! The pipe operator has a higher precedence than the JavaScript ternary operator (<code>?:</code>).</p>\n<p>If you simply write the expression as if it were evaluated left-to-right, you might be surprised by the result. For example, </p>\n<code-example>\ncondition ? a : b | pipe \n</code-example>\n<p>is parsed as </p>\n<code-example>\ncondition ? a : (b | pipe)\n</code-example>\n<p>The value of <code>b</code> passes through <code>pipe</code>; the value of <code>a</code> <em>will not</em>.</p>\n<p>If you want the pipe to apply to the result of the ternary expression, wrap the entire expression in parentheses. For example, </p>\n<code-example>\n(condition ? a : b) | pipe\n</code-example>\n<p>In general, you should always use parentheses to be sure Angular evaluates the expression as you intend.</p>\n<p>The \"Pipes and Precedence\" section of the <live-example nodownload=\"\">pipes example</live-example> explores this issue in more detail.</p>\n<!-- links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">Last reviewed on Mon Aug 14 2023</div>\n</div>\n\n<!-- links to this doc:\n - guide/ajs-quick-reference\n-->\n<!-- links from this doc:\n - /api/common/SlicePipe\n - api/common#pipes\n - api/common/AsyncPipe\n - api/common/CommonModule\n - api/common/CurrencyPipe\n - api/common/DatePipe\n - api/common/DatePipe#pre-defined-format-options\n - api/common/DecimalPipe\n - api/common/JsonPipe\n - api/common/LowerCasePipe\n - api/common/NgFor\n - api/common/PercentPipe\n - api/common/SlicePipe\n - api/common/UpperCasePipe\n - api/common/http\n - api/common/http/HttpClient\n - api/common/http/HttpClient#get\n - api/core/Component\n - api/core/NgModule\n - api/core/Pipe\n - api/core/PipeTransform\n - api/forms/FormsModule\n - api/forms/NgModel\n - api/platform-browser/animations/async\n - cli\n - cli/generate#pipe\n - guide/glossary#case-types\n - guide/glossary#change-detection\n - guide/glossary#component\n - guide/glossary#data-binding\n - guide/glossary#decorator--decoration\n - guide/glossary#observable\n - guide/glossary#pipe\n - guide/glossary#template\n - guide/glossary#template-expression\n - guide/glossary#typescript\n - guide/i18n-common-format-data-locale\n - guide/ngmodules\n - guide/observables#using-observables-to-pass-values\n - guide/pipes#caching-http-requests\n - guide/pipes#creating-pipes-for-custom-data-transformations\n - guide/pipes#detecting-changes-with-data-binding-in-pipes\n - guide/pipes#detecting-impure-changes-within-composite-objects\n - guide/pipes#detecting-pure-changes-to-primitives-and-object-references\n - guide/pipes#example-chaining-two-pipes-together\n - guide/pipes#example-formatting-a-date\n - guide/pipes#example-transforming-a-value-exponentially\n - guide/pipes#how-change-detection-works\n - guide/pipes#marking-a-class-as-a-pipe\n - guide/pipes#pipes-and-precedence\n - guide/pipes#prerequisites\n - guide/pipes#transforming-data-using-pipes\n - guide/pipes#transforming-data-with-parameters-and-chained-pipes\n - guide/pipes#unwrapping-data-from-an-observable\n - guide/pipes#using-a-pipe-in-a-template\n - guide/pipes#using-the-pipetransform-interface\n - guide/standalone-components\n - guide/styleguide#pipe-names\n - guide/understanding-communicating-with-http\n-->"
}