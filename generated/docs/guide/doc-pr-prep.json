{
  "id": "guide/doc-pr-prep",
  "title": "Prepare a documentation update for a pull request",
  "contents": "\n\n\n\n\n<div class=\"content\">\n  <h1 id=\"prepare-a-documentation-update-for-a-pull-request\">Prepare a documentation update for a pull request<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#prepare-a-documentation-update-for-a-pull-request\"><i class=\"material-icons\">link</i></a></h1>\n<p>This topic describes how to prepare your update to the Angular documentation so that you can open a pull request.\nA pull request is how you share your update in a way that allows it to be merged it into the <code>angular/angular</code> repo.</p>\n<div class=\"alert is-important\">\n<p><strong>IMPORTANT</strong>: <br>\nMake sure that you have reviewed your documentation update, removed any lint errors, and confirmed that it passes the end-to-end (e2e) tests without errors.</p>\n</div>\n<p>A pull request shares a branch in <code>personal/angular</code>, your forked repo, with the <code>angular/angular</code> repo.\nAfter your pull request is approved and merged, the new commits from your branch are added to the main branch in the <code>angular/angular</code> repo.\nThe commits in your branch, and their messages, become part of the <code>angular/angular</code> repo.</p>\n<p>What does this mean for your pull request?</p>\n<ol>\n<li>\n<p>Your commit messages become part of the documentation of the changes made to Angular.\nBecause they become part of the <code>angular/angular</code> repo, they must conform to a specific format so that they are easy to read.\nIf they aren't correctly formatted, you can fix that before you open your pull request.</p>\n</li>\n<li>\n<p>You might need to squash the commits that you made while developing your update.\nIt's normal to save your changes as intermediate commits while you're developing a large update, but your pull request represents only one change to the <code>angular/angular</code> repo.\nSquashing the commits from your working branch into fewer, or just one commit, makes the commits in your pull request match the changes your update makes to the <code>angular/angular</code> repo.</p>\n</li>\n</ol>\n<h2 id=\"format-commit-messages-for-a-pull-request\">Format commit messages for a pull request<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#format-commit-messages-for-a-pull-request\"><i class=\"material-icons\">link</i></a></h2>\n<p>Commits merged to <code>angular/angular</code> must have messages that are correctly formatted.\nThis section describes how to correctly format commit messages.</p>\n<p>Remember that the commit message is different from the pull request comment.</p>\n<h3 id=\"single-line-commit-messages\">Single line commit messages<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#single-line-commit-messages\"><i class=\"material-icons\">link</i></a></h3>\n<p>The simplest commit message is a single-line of text.\nAll commit messages in a pull request that updates documentation must begin with <code>docs:</code> and be followed by a short description of the change.</p>\n<p>The following is an example a valid Angular commit message.</p>\n<code-example language=\"none\" hidecopy=\"\">\n\ndocs: a short summary in present tense without capitalization or ending period\n\n</code-example>\n<p>This is an example of a commit command with the single-line commit message from the previous example.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit commit -m \"docs: a short summary in present tense without capitalization or ending period\"\n\n</code-example>\n<h3 id=\"multi-line-commit-messages\">Multi-line commit messages<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#multi-line-commit-messages\"><i class=\"material-icons\">link</i></a></h3>\n<p>You can include more information by providing a more detailed, multi-line message.\nThe detailed body text of the message must be separated by a blank line after the summary.\nThe footer that lists the issue the commit fixes must also be separated from the body text by a blank line.</p>\n<code-example language=\"none\" hidecopy=\"\">\n\ndocs: a short summary in present tense without capitalization or ending period\n\nA description of what was fixed, and why.\nThis description can be as detailed as necessary and can be written with\nappropriate capitalization and punctuation\n\nFixes #34353\n\n</code-example>\n<p>This is an example of a commit command with a multi-line commit message from the previous example.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit commit -m \"docs: a short summary in present tense without capitalization or ending period\n\nA description of what was fixed, and why.\nThis description can be as detailed as necessary and can be\nwritten with appropriate capitalization and punctuation.\n\nFixes #34353\"\n\n</code-example>\n<p>This example is for documentation updates only.\nFor the complete specification of Angular commit messages, see <a href=\"https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\">Commit message format</a>.</p>\n<h3 id=\"change-a-commit-message\">Change a commit message<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#change-a-commit-message\"><i class=\"material-icons\">link</i></a></h3>\n<p>If the last commit you made has a message that isn't in the correct format, you can update the message.\nChanging the message of an earlier commit or of multiple commits is also possible, but requires a more complex procedure.</p>\n<p>Run this command to change the commit message of the most recent commit.\nThe new commit message is formatted as described in the previous procedures.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit commit --amend -m \"New commit message\"\n\n</code-example>\n<p>This command creates a new commit on your local computer that replaces the previous commit.\nYou must push this new commit before you open your pull request.\nIf you pushed the original commit to the repo in your GitHub account, run this command to force-push the commit with the new message.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit push --force-with-lease\n\n</code-example>\n<p>If you haven't pushed the commit you amended, you can run <code>git push</code> with no parameters to push your updated commit.</p>\n<h2 id=\"prepare-your-branch-for-a-pull-request\">Prepare your branch for a pull request<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#prepare-your-branch-for-a-pull-request\"><i class=\"material-icons\">link</i></a></h2>\n<p>When you created your working branch to update the documentation, you branched off the <code>main</code> branch.\nYour changes in the working branch were based on the state of the <code>main</code> branch at that time you created the branch.</p>\n<p>Since you created your working branch, it's quite likely that the <code>main</code> branch has been updated.\nTo make sure that your updates work with the current <code>main</code> branch, you should <code>rebase</code> your working branch to catch it up to what is current.\nYou might also need to squash the commits you made in your working branch to combine them for the pull request.</p>\n<h3 id=\"rebase-your-working-branch\">Rebase your working branch<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#rebase-your-working-branch\"><i class=\"material-icons\">link</i></a></h3>\n<!-- markdownLint-disable MD033 -->\n<p>Rebasing your working branch changes the starting point of your commits from where the <code>main</code> branch was when you started to where it is now.</p>\n<p>Before you can rebase your working branch, you must update both your <em>clone</em> and your <em>fork</em> of the upstream repo.</p>\n<h4 id=\"why-you-rebase-your-working-branch\">Why you rebase your working branch<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#why-you-rebase-your-working-branch\"><i class=\"material-icons\">link</i></a></h4>\n<p>Rebasing your working branch to the current state of the <code>main</code> branch eliminates conflicts before your working branch is merged back into <code>main</code>.\nBy rebasing your working branch, the commits in your working branch show only those changes that you made to fix the issue.\nIf you don't rebase your working branch, it can have merge commits.\nMerge commits are commits that <code>git</code> creates to make up for the changes in the <code>main</code> branch since the <code>working</code> branch was created.\nMerge commits aren't harmful, but they can complicate a future review of the changes.\nThe following illustrates the rebase process.</p>\n<p>This image shows a <code>working</code> branch created from commit 5 of the <code>main</code> branch and then updated twice.\nThe numbered circles in these diagrams represent commits.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"An image of a git repo with a working branch created from a main branch\" src=\"generated/images/guide/doc-pr-prep/feature-with-new-branch.png\" width=\"408\" height=\"116\">\n</div>\n<p>This image shows the <code>main</code> branch after it was updated twice as the <code>working</code> branch was updated.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"An image of a git repo with a working branch and an updated main branch\" src=\"generated/images/guide/doc-pr-prep/feature-branch-w-update.png\" width=\"408\" height=\"116\">\n</div>\n<p>If the working branch was merged, a merge commit would be needed.\nThis image illustrates the result.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"An image of a git repo with a working branch and merged into the main branch\" src=\"generated/images/guide/doc-pr-prep/feature-branch-w-merge.png\" width=\"474\" height=\"116\">\n</div>\n<p>To make it easy for future contributors, the Angular team tries to keep the commit log as a linear sequence of changes.\nIncorporating merge commits includes changes that are the result of the merge along with what the author or developer changed. This makes it harder for future developers and authors to tell how the content evolved.</p>\n<p>To create a linear sequence of changes, you might need to update your <code>working</code> branch and update your changes. To add your updates to the current state of the <code>main</code> branch and prevent a merge commit, you rebase the <code>working</code> branch.</p>\n<p>Rebasing is how <code>git</code> updates your working branch to make it look like you created it from commit <code>9</code>.\nTo do this, it updates the commits in the <code>working</code> branch.\nAfter rebasing the <code>working</code> branch, its commits now start from the last commit of the <code>main</code> branch.</p>\n<p>This image shows the rebased <code>working</code> branch with is updated commits.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"An image of a git repo with an updated working branch\" src=\"generated/images/guide/doc-pr-prep/feature-branch-w-rebase.png\" width=\"544\" height=\"120\">\n</div>\n<p>When the rebased <code>working</code> branch is merged to main, its commits can now be appended to the <code>main</code> branch with no extra merge commits.</p>\n<p>This image shows the linear, <code>main</code> branch after merging the updated and rebased <code>working</code> branch.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"An image of a git repo with an updated working branch\" src=\"generated/images/guide/doc-pr-prep/feature-branch-merged.png\" width=\"550\" height=\"40\">\n</div>\n<h4 id=\"to-update-your-fork-of-the-upstream-repo\">To update your fork of the upstream repo<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#to-update-your-fork-of-the-upstream-repo\"><i class=\"material-icons\">link</i></a></h4>\n<p>You want to sync the <code>main</code> branch of your origin repo with the <code>main</code> branch of the upstream <code>angular/angular</code> before you open a pull request.</p>\n<p>This procedure updates your origin repo, the <code>personal/angular</code> repo, on your local computer so it has the current code, as illustrated here.\nThe circled numbers correspond to procedure steps.\nThe last step of this procedure then pushes the update to the fork of the <code>angular</code> in your GitHub account.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"An image of the git fetch/merge/push process used to update the local computer\" src=\"generated/images/guide/doc-pr-prep/github-fetch-merge.png\" width=\"553\" height=\"716\">\n</div>\n<p>Perform these steps from a command-line tool on your local computer.</p>\n<ol>\n<li>\n<p>From your <a href=\"guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\">workspace</a> directory, run this command to navigate to your <a href=\"guide/doc-prepare-to-edit#doc-working-directory\">working directory</a>.\nRemember to replace <code>personal</code> with your GitHub username.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ncd personal/angular\n\n</code-example>\n</li>\n<li>\n<p>Run this command to check out the <code>main</code> branch.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit checkout main\n\n</code-example>\n</li>\n<li>\n<p>Update the <code>main</code> branch in the <code>working</code> directory on your local computer from the upstream <code>angular/angular</code> repo.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit fetch upstream\ngit merge upstream/main\n\n</code-example>\n</li>\n<li>\n<p>Update your <code>personal/angular</code> repo on <code>github.com</code> with the latest from the upstream <code>angular/angular</code> repo.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit push\n\n</code-example>\n</li>\n</ol>\n<p>The <code>main</code> branch on your local computer and your origin repo on <code>github.com</code> are now in sync.\nThey have been updated with any changes to the upstream <code>angular/angular</code> repo that were made since the last time you updated your fork.</p>\n<h4 id=\"to-rebase-your-working-branch\">To rebase your working branch<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#to-rebase-your-working-branch\"><i class=\"material-icons\">link</i></a></h4>\n<p>Perform these steps from a command-line tool on your local computer.</p>\n<ol>\n<li>\n<p>From your <a href=\"guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\">workspace</a> directory, run this command to navigate to your <a href=\"guide/doc-prepare-to-edit#doc-working-directory\">working directory</a>.\nRemember to replace <code>personal</code> with your GitHub username.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ncd personal/angular\n\n</code-example>\n</li>\n<li>\n<p>Run this command to check out your <code>working</code> branch.\nReplace <code>working-branch</code> with the name of your <code>working</code> branch.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit checkout working-branch\n\n</code-example>\n</li>\n<li>\n<p>Run this command to rebase your branch to add the commits from your <code>working</code> branch to the current content in the <code>main</code> branch.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit rebase main\n\n</code-example>\n</li>\n<li>\n<p>Run this command to update your <code>working</code> branch in the repo in your GitHub account.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit push --force-with-lease\n\n</code-example>\n</li>\n</ol>\n<h3 id=\"review-the-commits-in-your-working-branch\">Review the commits in your working branch<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#review-the-commits-in-your-working-branch\"><i class=\"material-icons\">link</i></a></h3>\n<p>After you rebase your <code>working</code> branch, your commits should be after those of the current <code>main</code> branch.</p>\n<h4 id=\"to-review-the-commits-that-youve-added-to-the-working-branch\">To review the commits that you've added to the <code>working</code> branch<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#to-review-the-commits-that-youve-added-to-the-working-branch\"><i class=\"material-icons\">link</i></a></h4>\n<p>Perform these steps from a command-line tool on your local computer.</p>\n<ol>\n<li>\n<p>From your <a href=\"guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\">workspace</a> directory, run this command to navigate to your <a href=\"guide/doc-prepare-to-edit#doc-working-directory\">working directory</a>.\nRemember to replace <code>personal</code> with your GitHub username.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ncd personal/angular\n\n</code-example>\n</li>\n<li>\n<p>Run this command to confirm that you are using the correct <code>working</code> branch.\nIf you aren't in the correct branch, replace <code>working-branch</code> with the name of your <code>working</code> branch and run <code>git checkout working-branch</code> to select the correct branch.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit status\n\n</code-example>\n</li>\n<li>\n<p>Review the message from the previous <code>git status</code> command.\nIf you aren't in the correct branch, replace <code>working-branch</code> with the name of your <code>working</code> branch and run <code>git checkout working-branch</code> to select the correct branch.</p>\n</li>\n<li>\n<p>Run this command to get a list of the commits in your <code>working</code> branch.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit log --pretty=format:\"%h %as %an %Cblue%s %Cgreen%D\"\n\n</code-example>\n<p>This command returns the log of commits in the <code>working</code> branch with the most recent commit at the top of the list.</p>\n</li>\n<li>\n<p>In the output of the previous <code>git log</code> command, find the entry that contains <code>upstream/main</code>.\nIt should be near the top of the list.</p>\n<ol>\n<li>\n<p><strong>Confirm that the entry that contains <code>upstream/main</code> also contains <code>origin/main</code> and <code>main</code></strong></p>\n<p>If it doesn't, you must resync your clone and your fork of <code>angular/angular</code>, and then rebase the branch before you continue.</p>\n</li>\n<li>\n<p><strong>Confirm that all commits for your update are after the entry that contains <code>upstream/main</code></strong></p>\n<p>Remember that the log output is displayed with the most recent commit first. Your commits should all be on top of the entry that contains <code>upstream/main</code> in the log output.\nIf any of your commits are listed after the entry that contains <code>upstream/main</code>, somehow your commits in the <code>working</code> branch got mixed up. You must fix the branch before you open a pull request.</p>\n</li>\n<li>\n<p><strong>Confirm that your commit messages are in the correct format</strong></p>\n<p>The commit message format is tested by the automated tests and it must be in the correct format before the pull request can be approved.</p>\n</li>\n<li>\n<p><strong>Confirm that your commits and their messages reflect the changes your update makes to Angular</strong></p>\n<p>If you have more commits than changes, you might need to squash them into fewer commits before your pull request is approved.</p>\n</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"next-step\">Next step<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-prep#next-step\"><i class=\"material-icons\">link</i></a></h2>\n<p>After you confirm that your updates and your <code>working</code> branch are correct, you are ready to <a href=\"guide/doc-pr-open\">open a pull request</a>.</p>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">Last reviewed on Wed Oct 12 2022</div>\n</div>\n\n<!-- links to this doc:\n - guide/doc-editing\n - guide/doc-github-tasks\n - guide/doc-pr-open\n - guide/doc-pr-update\n - guide/doc-update-overview\n-->\n<!-- links from this doc:\n - guide/doc-pr-open\n - guide/doc-pr-prep#change-a-commit-message\n - guide/doc-pr-prep#format-commit-messages-for-a-pull-request\n - guide/doc-pr-prep#multi-line-commit-messages\n - guide/doc-pr-prep#next-step\n - guide/doc-pr-prep#prepare-a-documentation-update-for-a-pull-request\n - guide/doc-pr-prep#prepare-your-branch-for-a-pull-request\n - guide/doc-pr-prep#rebase-your-working-branch\n - guide/doc-pr-prep#review-the-commits-in-your-working-branch\n - guide/doc-pr-prep#single-line-commit-messages\n - guide/doc-pr-prep#to-rebase-your-working-branch\n - guide/doc-pr-prep#to-review-the-commits-that-youve-added-to-the-working-branch\n - guide/doc-pr-prep#to-update-your-fork-of-the-upstream-repo\n - guide/doc-pr-prep#why-you-rebase-your-working-branch\n - guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\n - guide/doc-prepare-to-edit#doc-working-directory\n - https://github.com/angular/angular/blob/main/CONTRIBUTING.md#commit\n-->"
}