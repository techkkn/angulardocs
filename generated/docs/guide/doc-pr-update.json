{
  "id": "guide/doc-pr-update",
  "title": "Update a documentation pull request",
  "contents": "\n\n\n\n\n<div class=\"content\">\n  <h1 id=\"update-a-documentation-pull-request\">Update a documentation pull request<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#update-a-documentation-pull-request\"><i class=\"material-icons\">link</i></a></h1>\n<!-- markdownLint-disable MD001 -->\n<p>This topic describes how to respond to test failures and feedback on your pull request.</p>\n<p>After you open a pull request, it is tested and reviewed.\nAfter it's approved, the changes are merged into <code>angular/angular</code> and they become part of the Angular documentation.</p>\n<p>While some pull requests are approved with no further action on your part, most pull requests receive feedback that requires you to make a change.</p>\n<h2 id=\"anatomy-of-a-pull-request\">Anatomy of a pull request<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#anatomy-of-a-pull-request\"><i class=\"material-icons\">link</i></a></h2>\n<p>After you open a pull request, the pull request page records the activity on the pull request as it is reviewed, updated, and approved.\nThis is an example of the top of a pull request page followed by a description of the information it contains.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"Screenshot of github.com page showing a branch listing from a repo\" src=\"generated/images/guide/doc-pr-update/pull-request-heading.png\" width=\"722\" height=\"225\">\n</div>\n<p>Above the pull-request tabs is a summary of the pull request that includes:</p>\n<ul>\n<li>\n<p>The pull request title and index</p>\n</li>\n<li>\n<p>The status of the pull request:\nopen or closed</p>\n</li>\n<li>\n<p>A description of the branch with the changes and the branch to update</p>\n</li>\n</ul>\n<p>The tabs contain different aspects of the pull request.</p>\n<ul>\n<li>\n<p><strong>Conversation</strong></p>\n<p>All comments and changes to the pull request, system messages, and a summary of the automated tests and approvals.</p>\n</li>\n<li>\n<p><strong>Commits</strong></p>\n<p>The log of the commits included in this pull request.</p>\n</li>\n<li>\n<p><strong>Checks</strong></p>\n<p>The results of the checks run on the commit.\nThis is different from the automated tests that are also run and summarized at the bottom of the <strong>Conversation</strong> tab.</p>\n</li>\n<li>\n<p><strong>Files changed</strong></p>\n<p>The changes this request makes to the code.\nIn this tab is where you find specific comments to the changes in your pull request.\nYou can reply to those comments in this tab, as well.</p>\n</li>\n</ul>\n<h2 id=\"respond-to-a-comment\">Respond to a comment<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#respond-to-a-comment\"><i class=\"material-icons\">link</i></a></h2>\n<p>If your pull request receives comments from a reviewer, you can respond in several ways.</p>\n<ul>\n<li>\n<p>Reply to the feedback.</p>\n<p>For example, you can ask for more information or reply with an explanation.</p>\n</li>\n<li>\n<p>Make the changes to the documentation that the reviewer recommends.</p>\n<p>If you update the working branch with the suggested changes, resolve the comment.</p>\n</li>\n<li>\n<p>Make other changes to the documentation.</p>\n<p>After reviewing the feedback, you might see an even better improvement.\nUpdate the working branch with your improvement and explain why you chose that to your reviewers in a comment.</p>\n</li>\n</ul>\n<p>Remember that pull requests that do not receive a response to a review comment are considered abandoned and closed.\nFor more information about abandoned pull requests, see <a href=\"guide/doc-pr-open#what-happens-to-abandoned-pull-requests\">What happens to abandoned pull requests</a>.</p>\n<h3 id=\"update-a-file-in-the-pull-request\">Update a file in the pull request<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#update-a-file-in-the-pull-request\"><i class=\"material-icons\">link</i></a></h3>\n<p>Follow this procedure to change a file in the pull request or to add a new file to the pull request.</p>\n<ol>\n<li>\n<p>In your <code>git</code> workspace, in your working directory, checkout your working branch.</p>\n</li>\n<li>\n<p>Update the documentation to respond to the feedback you received.\nThe procedures used to <a href=\"guide/doc-editing\">revise a documentation topic</a> are also used to update the documentation while there's an open pull request.</p>\n</li>\n<li>\n<p>Test your update locally as described in <a href=\"guide/doc-build-test\">Testing a documentation update</a>.</p>\n</li>\n<li>\n<p>After your updates have been tested, commit your changes and push the new commits to the working branch of your repo on your <code>origin</code> server.</p>\n</li>\n<li>\n<p>After you update the working branch on your <code>origin</code> server, the fork of the <code>angular/angular</code> repo in your GitHub account, your pull request updates automatically.</p>\n</li>\n<li>\n<p>After the pull request updates, the automated tests are restarted and the reviewers are notified.</p>\n</li>\n</ol>\n<p>Repeat this process as needed to address the feedback you get from reviews of the pull request.</p>\n<h2 id=\"clean-up-the-branch\">Clean up the branch<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#clean-up-the-branch\"><i class=\"material-icons\">link</i></a></h2>\n<p>If you added commits to address review feedback, you might be requested to clean up your working branch.\nIf some of the commits you made address only review feedback from your reviewers, they can probably be squashed.\nSquashing commits combines the changes made in multiple commits into a single commit.</p>\n<!-- markdownLint-disable MD033 -->\n<h4 id=\"to-squash-commits-in-your-working-branch\">To squash commits in your working branch<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#to-squash-commits-in-your-working-branch\"><i class=\"material-icons\">link</i></a></h4>\n<p>Perform these steps from a command-line tool on your local computer.</p>\n<ol>\n<li>\n<p>In your <a href=\"guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\">workspace</a> directory, in your <a href=\"guide/doc-prepare-to-edit#doc-working-directory\">working directory</a>, checkout your working branch.</p>\n</li>\n<li>\n<p>Run this command to view the commits in your working branch.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit log --pretty=format:\"%h %as %an %Cblue%s %Cgreen%D\"\n\n</code-example>\n</li>\n<li>\n<p>In the output of the previous <code>git log</code> command, find the entry that contains <code>upstream/main</code>.\nIt should be near the top of the list.</p>\n<ol>\n<li>\n<p><strong>Confirm that entry also contains <code>origin/main</code> and <code>main</code></strong></p>\n<p>If it doesn't, you must resync the clone on your local computer and your <code>personal/angular</code> repo with the <code>upstream</code> repo.\nAfter you resync the repos, <a href=\"guide/doc-pr-prep#rebase-your-working-branch\">rebase the working branch</a> before you continue.</p>\n</li>\n<li>\n<p><strong>Confirm that all commits for your update are after the entry that contains <code>upstream/main</code></strong></p>\n<p>Remember that the log output is displayed with the most recent commit first.\nYour commits should all be on top of the entry that contains <code>upstream/main</code> in the log output.\nIf you have commits that are listed after the entry that contains <code>upstream/main</code>, somehow your commits in the working branch got mixed up.\nYou must fix the branch before you try to squash any commits.</p>\n</li>\n</ol>\n</li>\n<li>\n<p>Count the lines that are on top of the entry that contains <code>upstream/main</code>.\nFor example, in this log output, the working branch name is <code>update-doc-contribution</code> and there are five commit entries that are on top of the entry that contains <code>upstream/main</code>.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<p><a href=\"generated/images/guide/doc-pr-update/git-log-output-large.png\"><img alt=\"Screenshot of git log output\" src=\"generated/images/guide/doc-pr-update/git-log-output.png\" width=\"722\" height=\"87\"></a></p>\n</div>\n</li>\n<li>\n<p>Run this command to squash the commits that occurred after the entry that contains <code>upstream/main</code>.\nIn your command, replace the <code>5</code> after <code>HEAD</code> with the number of commits on top of the entry that contains <code>upstream/main</code>.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit rebase -i HEAD~5\n\n</code-example>\n</li>\n<li>\n<p>This command opens your default editor with entries for the commits that you selected in the <code>git rebase</code> command.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"Screenshot of git rebase editor screen\" src=\"generated/images/guide/doc-pr-update/git-squash-edit.png\" width=\"717\" height=\"113\">\n</div>\n</li>\n<li>\n<p>To squash the commits, edit the commands in the file that's presented in the editor.\nThe commands in the editor are listed from oldest to newest, which is the opposite order from how they are listed by the <code>git log</code> command.\nThe possible command options are listed in the editor below the commands.\nTo squash the commits for your pull request, you only need: <code>pick</code> and <code>squash</code>.</p>\n</li>\n<li>\n<p>Review the commands in the editor and change them to match your intention.</p>\n<p>The commands are processed from top to bottom, that is from oldest commit to the most recent.\\\nTo merge all commits in this branch for this pull request, change the <code>pick</code> commands to <code>squash</code> for all commits except for the first one.\nThis text shows how this looks for this example.</p>\n<code-example language=\"none\" hidecopy=\"\">\n\npick bb0ff71891 docs: update of documentation contrib. guide\nsquash c040d76685 docs: more content for doc updates\nsquash 472585c43f docs: fix links that were broken by renamed files\nsquash 3e6f4c73ac docs: add more info about open PR\nsquash 8e50fad064 docs: more pr docs\n\n</code-example>\n<p>With this edit, <code>git rebase</code> picks the first commit and combines the later commits into the first one.</p>\n<p>The commit message of the commit with the <code>pick</code> command, is the commit message used for the resulting commit.\nMake sure that it in the correct format and starts with <code>docs:</code>.\nIf you need to change the commit message, you can edit it in the editor.</p>\n</li>\n<li>\n<p>After you update the commands, save and exit the editor.\nThe <code>git rebase</code> commit processes the commands and updates the commit log in your workspace.\nIn this example, the rebase command combined the five commits to create a single commit in your working branch.\nThis is the commit log after the rebase command completes.</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<p><a href=\"generated/images/guide/doc-pr-update/git-log-after-squash-large.png\"><img alt=\"Screenshot of commit log after git rebase command\" src=\"generated/images/guide/doc-pr-update/git-log-after-squash.png\" width=\"722\" height=\"43\"></a></p>\n</div>\n</li>\n<li>\n<p>The <code>git rebase</code> command changes the commit log in your local computer so it is now different from the one in your online repo.\nTo update your online repo, you must force your push of changes from your local computer using this command.</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit push --force-with-lease\n\n</code-example>\n<p>This action is also called a <em>force push</em> because it changes the commit log that was stored in your GitHub account.\nNormally, when you run <code>git push</code>, you add new commits to the online repo.\nWhen other people have forked a repo, a force push can have undesired effects for them.\nThis force-push is to your forked repo, which should not be shared, so it should be OK.</p>\n</li>\n<li>\n<p>After your force push updates the online repo, your pull request restarts the automated tests and notifies the reviewers of the update.</p>\n</li>\n</ol>\n<h2 id=\"next-steps\">Next steps<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#next-steps\"><i class=\"material-icons\">link</i></a></h2>\n<p>Repeat these update steps as necessary to respond to all the feedback you receive.</p>\n<p>After you address all the feedback and your pull request has been approved, it is merged into <code>angular/angular</code>.\nThe changes in your pull request should appear in the documentation shortly afterwards.</p>\n<p>After your pull request is merged into <code>angular/angular</code>, you can <a href=\"guide/doc-edit-finish\">clean up your workspace</a>.</p>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">Last reviewed on Wed Oct 12 2022</div>\n</div>\n\n<!-- links to this doc:\n - guide/doc-pr-open\n - guide/doc-update-overview\n-->\n<!-- links from this doc:\n - generated/images/guide/doc-pr-update/git-log-after-squash-large.png\n - generated/images/guide/doc-pr-update/git-log-output-large.png\n - guide/doc-build-test\n - guide/doc-edit-finish\n - guide/doc-editing\n - guide/doc-pr-open#what-happens-to-abandoned-pull-requests\n - guide/doc-pr-prep#rebase-your-working-branch\n - guide/doc-pr-update#anatomy-of-a-pull-request\n - guide/doc-pr-update#clean-up-the-branch\n - guide/doc-pr-update#next-steps\n - guide/doc-pr-update#respond-to-a-comment\n - guide/doc-pr-update#to-squash-commits-in-your-working-branch\n - guide/doc-pr-update#update-a-documentation-pull-request\n - guide/doc-pr-update#update-a-file-in-the-pull-request\n - guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\n - guide/doc-prepare-to-edit#doc-working-directory\n-->"
}