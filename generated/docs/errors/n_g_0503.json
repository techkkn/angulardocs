{
  "id": "errors/NG0503",
  "title": "NG0503: During serialization, Angular detected DOM nodes that were created outside of Angular's context and used for content projection.",
  "contents": "<div class=\"content\">\n\n  <h1 id=\"ng0503-during-serialization-angular-detected-dom-nodes-that-were-created-outside-of-angulars-context-and-used-for-content-projection\">NG0503: During serialization, Angular detected DOM nodes that were created outside of Angular's context and used for content projection.<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0503#ng0503-during-serialization-angular-detected-dom-nodes-that-were-created-outside-of-angulars-context-and-used-for-content-projection\"><i class=\"material-icons\">link</i></a></h1>\n\n  \n  \n\n  <div class=\"error-description\">\n    <h2 id=\"description\">Description<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0503#description\"><i class=\"material-icons\">link</i></a></h2>\n    <p>This error means that during the server side serialization process, Angular encountered nodes that were created outside of Angular's context (i.e. using native DOM APIs) and found those nodes were provided as projectible nodes. They were likely provided using <code>ViewContainerRef.createComponent</code> or <code><a href=\"api/core/createComponent\" class=\"code-anchor\">createComponent</a></code> APIs. Angular hydration does not support this use case.</p>\n<p>More information about hydration can be found in <a href=\"guide/hydration\">this guide</a>.</p>\n<p>The following examples will trigger the error.</p>\n<code-example language=\"typescript\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'dynamic',\n  template: `\n  &#x3C;ng-content />\n`,\n})\nclass DynamicComponent {\n}\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app',\n  template: `&#x3C;div #target>&#x3C;/div>`,\n})\nclass SimpleComponent {\n  @<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>('target', {read: <a href=\"api/core/ViewContainerRef\" class=\"code-anchor\">ViewContainerRef</a>}) vcr!: <a href=\"api/core/ViewContainerRef\" class=\"code-anchor\">ViewContainerRef</a>;\n  envInjector = inject(<a href=\"api/core/EnvironmentInjector\" class=\"code-anchor\">EnvironmentInjector</a>);\n\n  ngAfterViewInit() {\n    const div = document.createElement('div');\n    const p = document.createElement('p');\n    // In this test we create DOM nodes outside of Angular context\n    // (i.e. not using Angular APIs) and try to content-project them.\n    // This is an unsupported <a href=\"api/forms/PatternValidator\" class=\"code-anchor\">pattern</a> and an exception will be thrown.\n    const compRef = <a href=\"api/core/createComponent\" class=\"code-anchor\">createComponent</a>(DynamicComponent, {\n      environmentInjector: this.envInjector,\n      projectableNodes: [[div, p]]\n    });\n  }\n}\n</code-example>\n\n  </div>\n\n\n  \n  <br>\n\n  <div class=\"debugging\">\n    <h2 id=\"debugging-the-error\">Debugging the error<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0503#debugging-the-error\"><i class=\"material-icons\">link</i></a></h2>\n    <p>The error message in the developer console should contain information on a specific part of the application's DOM structure that is causing the problem. Review that part of the application for hydration-related errors, such as direct DOM manipulation using native APIs.</p>\n<p>You can add the <code>ngSkipHydration</code> attribute to your component host node as a possible workaround.</p>\n\n  </div>\n  \n</div>\n\n<!-- links to this doc:\n - errors\n-->\n<!-- links from this doc:\n - api/core/Component\n - api/core/EnvironmentInjector\n - api/core/ViewChild\n - api/core/ViewContainerRef\n - api/core/createComponent\n - api/forms/PatternValidator\n - errors/NG0503#debugging-the-error\n - errors/NG0503#description\n - errors/NG0503#ng0503-during-serialization-angular-detected-dom-nodes-that-were-created-outside-of-angulars-context-and-used-for-content-projection\n - guide/hydration\n-->"
}